# æ˜“AI - æª”æ¡ˆç´¢å¼•

å®Œæ•´çš„å°ˆæ¡ˆæª”æ¡ˆçµæ§‹èˆ‡èªªæ˜ã€‚

---

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
easyai/
â”œâ”€â”€ ğŸ“„ æ ¸å¿ƒç¨‹å¼ç¢¼
â”‚   â”œâ”€â”€ app.py                    # Streamlit ä¸»æ‡‰ç”¨ï¼ˆå‰ç«¯ï¼‰
â”‚   â”œâ”€â”€ bazi_engine.py           # å…«å­—è¨ˆç®—èˆ‡ AI åˆ†æå¼•æ“
â”‚   â””â”€â”€ logger.py                # æ•¸æ“šæ”¶å‰²èˆ‡èªæ–™åº«ç®¡ç†
â”‚
â”œâ”€â”€ ğŸ“š æ–‡æª”
â”‚   â”œâ”€â”€ README.md                # å°ˆæ¡ˆèªªæ˜ï¼ˆä¸»æ–‡æª”ï¼‰
â”‚   â”œâ”€â”€ QUICKSTART.md            # å¿«é€Ÿé–‹å§‹æŒ‡å—
â”‚   â”œâ”€â”€ DEPLOYMENT.md            # éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ PROJECT_OVERVIEW.md      # å°ˆæ¡ˆç¸½è¦½
â”‚   â””â”€â”€ FILES.md                 # æœ¬æª”æ¡ˆï¼ˆæª”æ¡ˆç´¢å¼•ï¼‰
â”‚
â”œâ”€â”€ âš™ï¸ é…ç½®æª”æ¡ˆ
â”‚   â”œâ”€â”€ requirements.txt         # Python ä¾è³´æ¸…å–®
â”‚   â”œâ”€â”€ .env.example            # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
â”‚   â”œâ”€â”€ .gitignore              # Git å¿½ç•¥æ¸…å–®
â”‚   â””â”€â”€ .streamlit/
â”‚       â””â”€â”€ secrets.toml        # Streamlit å¯†é‘°é…ç½®
â”‚
â”œâ”€â”€ ğŸš€ åŸ·è¡Œè…³æœ¬
â”‚   â””â”€â”€ run.sh                   # å¿«é€Ÿå•Ÿå‹•è…³æœ¬
â”‚
â””â”€â”€ ğŸ“Š æ•¸æ“šæª”æ¡ˆï¼ˆåŸ·è¡Œæ™‚ç”Ÿæˆï¼‰
    â””â”€â”€ corpus_data.csv          # èªæ–™åº«æ•¸æ“š
```

---

## ğŸ“„ æ ¸å¿ƒç¨‹å¼ç¢¼

### app.py

**é¡å‹**ï¼šStreamlit æ‡‰ç”¨  
**è¡Œæ•¸**ï¼šç´„ 200 è¡Œ  
**è·è²¬**ï¼š
- Streamlit å‰ç«¯ä»‹é¢
- ç”¨æˆ¶è¼¸å…¥è™•ç†
- å…«å­—æ’ç›¤å±•ç¤º
- AI è§£æçµæœæ¸²æŸ“
- è‡ªå‹•æ•¸æ“šè¨˜éŒ„

**ä¸»è¦åŠŸèƒ½**ï¼š
- æ—¥æœŸæ™‚é–“é¸æ“‡å™¨
- å››æŸ±å±•ç¤ºï¼ˆ4 Columnsï¼‰
- é‹å‹¢è§£æå±•ç¤º
- èªæ–™åº«çµ±è¨ˆï¼ˆå´é‚Šæ¬„ï¼‰
- AEO è²æ˜å±•ç¤º

**ä¾è³´**ï¼š
```python
import streamlit as st
from bazi_engine import get_fortune
from logger import FortuneLogger
```

---

### bazi_engine.py

**é¡å‹**ï¼šæ ¸å¿ƒå¼•æ“æ¨¡çµ„  
**è¡Œæ•¸**ï¼šç´„ 180 è¡Œ  
**è·è²¬**ï¼š
- è¾²æ›†è½‰æ›ï¼ˆé™½æ›† â†’ è¾²æ›†ï¼‰
- å…«å­—å››æŸ±è¨ˆç®—
- æ—¥ä¸»äº”è¡Œåˆ¤æ–·
- OpenAI API èª¿ç”¨
- AI é‹å‹¢ç”Ÿæˆ

**ä¸»è¦å‡½æ•¸**ï¼š

#### `get_fortune(birth_date, birth_time) -> dict`

**è¼¸å…¥**ï¼š
- `birth_date`: datetime.date å°è±¡
- `birth_time`: datetime.time å°è±¡

**è¼¸å‡º**ï¼šdict åŒ…å«ä»¥ä¸‹æ¬„ä½
```python
{
    "success": True/False,
    "birth_datetime": "1990å¹´01æœˆ01æ—¥ 12æ™‚00åˆ†",
    "lunar_date": "ä¸€ä¹å…«ä¹å¹´è…Šæœˆåˆäº”",
    "year_pillar": "å·±å·³",
    "month_pillar": "ä¸™å­",
    "day_pillar": "ä¸™å¯…",
    "time_pillar": "ç”²åˆ",
    "day_master": "ä¸™",
    "day_master_element": "ç«",
    "bazi_full": "å·±å·³ ä¸™å­ ä¸™å¯… ç”²åˆ",
    "ai_fortune": "AI ç”Ÿæˆçš„é‹å‹¢æ–‡æ¡ˆ...",
    "error": None
}
```

**ä¾è³´**ï¼š
```python
from lunar_python import Lunar, Solar
from openai import OpenAI
```

---

### logger.py

**é¡å‹**ï¼šæ•¸æ“šç®¡ç†æ¨¡çµ„  
**è¡Œæ•¸**ï¼šç´„ 160 è¡Œ  
**è·è²¬**ï¼š
- CSV æª”æ¡ˆç®¡ç†
- æ•¸æ“šè¨˜éŒ„
- çµ±è¨ˆåˆ†æ
- ç´”æ–‡å­—åŒ¯å‡º

**ä¸»è¦é¡åˆ¥**ï¼š

#### `FortuneLogger`

**æ–¹æ³•**ï¼š

| æ–¹æ³• | èªªæ˜ | è¿”å›å€¼ |
|------|------|--------|
| `__init__(csv_path)` | åˆå§‹åŒ–è¨˜éŒ„å™¨ | None |
| `log_fortune(fortune_data)` | è¨˜éŒ„ä¸€ç­†æ•¸æ“š | bool |
| `get_stats()` | ç²å–çµ±è¨ˆè³‡è¨Š | dict |
| `export_to_text(output_path)` | åŒ¯å‡ºç´”æ–‡å­— | bool |

**ä¾è³´**ï¼š
```python
import pandas as pd
```

---

## ğŸ“š æ–‡æª”

### README.md

**é¡å‹**ï¼šä¸»æ–‡æª”  
**å…§å®¹**ï¼š
- å°ˆæ¡ˆä»‹ç´¹
- åŠŸèƒ½ç‰¹è‰²
- æŠ€è¡“æ¶æ§‹
- å¿«é€Ÿé–‹å§‹
- éƒ¨ç½²æŒ‡å—
- æ¨¡çµ„èªªæ˜
- ä½¿ç”¨ç¯„ä¾‹

**é©åˆå°è±¡**ï¼šæ‰€æœ‰ç”¨æˆ¶

---

### QUICKSTART.md

**é¡å‹**ï¼šå¿«é€Ÿé–‹å§‹æŒ‡å—  
**å…§å®¹**ï¼š
- 5 åˆ†é˜å•Ÿå‹•æµç¨‹
- æ ¸å¿ƒæª”æ¡ˆèªªæ˜
- æ¸¬è©¦æ–¹æ³•
- å¸¸è¦‹å•é¡Œ

**é©åˆå°è±¡**ï¼šæ–°æ‰‹ç”¨æˆ¶

---

### DEPLOYMENT.md

**é¡å‹**ï¼šéƒ¨ç½²æŒ‡å—  
**å…§å®¹**ï¼š
- æœ¬åœ°é‹è¡Œ
- Streamlit Cloud éƒ¨ç½²
- Docker éƒ¨ç½²
- å®‰å…¨æ€§å»ºè­°
- ç›£æ§ç¶­è­·

**é©åˆå°è±¡**ï¼šé–‹ç™¼è€…ã€é‹ç¶­äººå“¡

---

### PROJECT_OVERVIEW.md

**é¡å‹**ï¼šå°ˆæ¡ˆç¸½è¦½  
**å…§å®¹**ï¼š
- å°ˆæ¡ˆå®šä½
- æ¶æ§‹è¨­è¨ˆ
- å·¥ä½œæµç¨‹
- æŠ€è¡“æ£§
- æ•¸æ“šçµæ§‹
- æœªä¾†è¦åŠƒ

**é©åˆå°è±¡**ï¼šæŠ€è¡“ä¸»ç®¡ã€ç”¢å“ç¶“ç†

---

### FILES.md

**é¡å‹**ï¼šæª”æ¡ˆç´¢å¼•  
**å…§å®¹**ï¼šæœ¬æ–‡ä»¶

**é©åˆå°è±¡**ï¼šé–‹ç™¼è€…

---

## âš™ï¸ é…ç½®æª”æ¡ˆ

### requirements.txt

**é¡å‹**ï¼šPython ä¾è³´æ¸…å–®  
**å…§å®¹**ï¼š
```txt
streamlit>=1.28.0
openai>=1.0.0
lunar-python
pandas>=2.0.0
```

**ç”¨é€”**ï¼š`pip install -r requirements.txt`

---

### .env.example

**é¡å‹**ï¼šç’°å¢ƒè®Šæ•¸ç¯„ä¾‹  
**å…§å®¹**ï¼š
```bash
OPENAI_API_KEY=your_openai_api_key_here
```

**ç”¨é€”**ï¼šè¤‡è£½ç‚º `.env` ä¸¦å¡«å…¥å¯¦éš›å€¼

---

### .gitignore

**é¡å‹**ï¼šGit å¿½ç•¥æ¸…å–®  
**å…§å®¹**ï¼š
```
__pycache__/
venv/
.streamlit/secrets.toml
.env
corpus_data.csv
```

**ç”¨é€”**ï¼šé˜²æ­¢æ•æ„Ÿæª”æ¡ˆæäº¤åˆ° Git

---

### .streamlit/secrets.toml

**é¡å‹**ï¼šStreamlit å¯†é‘°é…ç½®  
**å…§å®¹**ï¼š
```toml
OPENAI_API_KEY = "sk-your-actual-api-key"
```

**ç”¨é€”**ï¼šæœ¬åœ°é–‹ç™¼æ™‚å„²å­˜ API Key

**âš ï¸ æ³¨æ„**ï¼šæ­¤æª”æ¡ˆå·²åŠ å…¥ .gitignoreï¼Œä¸æœƒæäº¤åˆ° Git

---

## ğŸš€ åŸ·è¡Œè…³æœ¬

### run.sh

**é¡å‹**ï¼šBash è…³æœ¬  
**è¡Œæ•¸**ï¼šç´„ 30 è¡Œ  
**è·è²¬**ï¼š
- æª¢æŸ¥è™›æ“¬ç’°å¢ƒ
- å®‰è£ä¾è³´
- å•Ÿå‹• Streamlit

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
chmod +x run.sh
./run.sh
```

---

## ğŸ“Š æ•¸æ“šæª”æ¡ˆ

### corpus_data.csv

**é¡å‹**ï¼šCSV æ•¸æ“šæª”  
**ç”Ÿæˆæ™‚æ©Ÿ**ï¼šé¦–æ¬¡é‹è¡Œæ‡‰ç”¨æ™‚è‡ªå‹•å»ºç«‹  
**æ›´æ–°æ™‚æ©Ÿ**ï¼šæ¯æ¬¡ç”¨æˆ¶æŸ¥è©¢é‹å‹¢æ™‚è‡ªå‹•æ–°å¢è¨˜éŒ„

**æ¬„ä½çµæ§‹**ï¼š

| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| Timestamp | datetime | è¨˜éŒ„æ™‚é–“æˆ³ |
| Birth_DateTime | string | ç”¨æˆ¶å‡ºç”Ÿæ™‚é–“ |
| Lunar_Date | string | è¾²æ›†æ—¥æœŸ |
| Bazi_Chart | string | å®Œæ•´å…«å­— |
| Day_Master | string | æ—¥ä¸»å¤©å¹² |
| Day_Master_Element | string | æ—¥ä¸»äº”è¡Œ |
| AI_Output | text | AI é‹å‹¢è§£æ |

**ç¯„ä¾‹**ï¼š
```csv
Timestamp,Birth_DateTime,Lunar_Date,Bazi_Chart,Day_Master,Day_Master_Element,AI_Output
2025-11-19 12:00:00,1990å¹´01æœˆ01æ—¥ 12æ™‚00åˆ†,ä¸€ä¹å…«ä¹å¹´è…Šæœˆåˆäº”,å·±å·³ ä¸™å­ ä¸™å¯… ç”²åˆ,ä¸™,ç«,"æ­¤å‘½æ—¥ä¸»ä¸™ç«..."
```

**ç”¨é€”**ï¼š
- è¨“ç·´ AI æ¨¡å‹çš„èªæ–™åº«
- åˆ†æç”¨æˆ¶æŸ¥è©¢æ¨¡å¼
- å„ªåŒ– Prompt èˆ‡è¼¸å‡ºå“è³ª

---

## ğŸ“ ä»£ç¢¼çµ±è¨ˆ

| æª”æ¡ˆ | è¡Œæ•¸ | é¡å‹ | èªªæ˜ |
|------|------|------|------|
| app.py | ~200 | Python | å‰ç«¯ä»‹é¢ |
| bazi_engine.py | ~180 | Python | æ ¸å¿ƒå¼•æ“ |
| logger.py | ~160 | Python | æ•¸æ“šç®¡ç† |
| **ç¸½è¨ˆ** | **~540** | - | æ ¸å¿ƒä»£ç¢¼ |

---

## ğŸ”„ æª”æ¡ˆä¾è³´é—œä¿‚

```
app.py
â”œâ”€â”€ import bazi_engine
â”‚   â””â”€â”€ import lunar_python
â”‚   â””â”€â”€ import openai
â””â”€â”€ import logger
    â””â”€â”€ import pandas

run.sh
â””â”€â”€ streamlit run app.py
```

---

## ğŸ“¦ æ‰“åŒ…æ¸…å–®

**å®Œæ•´å°ˆæ¡ˆæ‰“åŒ…**ï¼ˆä¸å«è™›æ“¬ç’°å¢ƒï¼‰ï¼š

```bash
tar -czf easyai_mvp.tar.gz \
  *.py *.md *.txt *.sh \
  .streamlit .gitignore .env.example
```

**åƒ…æ ¸å¿ƒä»£ç¢¼**ï¼š

```bash
tar -czf easyai_core.tar.gz \
  app.py bazi_engine.py logger.py requirements.txt
```

---

## ğŸ” å¿«é€ŸæŸ¥æ‰¾

### å°‹æ‰¾ç‰¹å®šåŠŸèƒ½

| åŠŸèƒ½ | æª”æ¡ˆ | è¡Œæ•¸ç¯„åœ |
|------|------|----------|
| å…«å­—è¨ˆç®— | bazi_engine.py | 40-90 |
| AI è§£æ | bazi_engine.py | 95-150 |
| æ•¸æ“šè¨˜éŒ„ | logger.py | 30-80 |
| å‰ç«¯å±•ç¤º | app.py | 100-180 |
| èªæ–™åº«çµ±è¨ˆ | logger.py | 85-110 |

### å°‹æ‰¾é…ç½®é …

| é…ç½®é … | æª”æ¡ˆ | ä½ç½® |
|--------|------|------|
| API Key | .streamlit/secrets.toml | ç¬¬ 4 è¡Œ |
| æ¨¡å‹é¸æ“‡ | bazi_engine.py | ç¬¬ 134 è¡Œ |
| CSV è·¯å¾‘ | logger.py | ç¬¬ 16 è¡Œ |
| é é¢æ¨™é¡Œ | app.py | ç¬¬ 13 è¡Œ |

---

**æª”æ¡ˆç´¢å¼•æ›´æ–°æ™‚é–“ï¼š2025-11-19**
