# 易AI - 專案總覽

**AEO 導向的八字命理與 AI 運勢分析系統**

---

## 🎯 專案定位

易AI 是專門研究 **易經 × AI × 台灣場景** 的實驗計畫。這個「每日運勢 MVP」使用 Boss 自研的八字計算引擎，結合 AI 命理與傳統命理系統邏輯，提供繁體中文使用者專屬的 AI 流日解析。

**核心價值：**
- 📚 **知識傳承**：傳統命理大師論命風格（直斷生殺、取象為上、結合中醫經絡）
- 🤖 **AI 賦能**：OpenAI GPT 生成專業命理解析
- 📊 **數據累積**：自動收割語料庫，持續優化模型
- 🇹🇼 **在地化**：專為繁體中文與台灣使用者設計

---

## 🏗️ 架構設計

### 模組化架構

```
┌─────────────────────────────────────────┐
│           Streamlit Frontend            │
│              (app.py)                   │
└────────────────┬────────────────────────┘
                 │
        ┌────────┴────────┐
        │                 │
┌───────▼──────┐  ┌──────▼───────┐
│ Bazi Engine  │  │    Logger    │
│ (八字計算)    │  │  (數據收割)   │
└──────────────┘  └──────────────┘
        │                 │
        │                 │
┌───────▼──────┐  ┌──────▼───────┐
│ lunar-python │  │ corpus_data  │
│   OpenAI     │  │    .csv      │
└──────────────┘  └──────────────┘
```

### 核心模組

| 模組 | 檔案 | 職責 |
|------|------|------|
| **前端介面** | `app.py` | Streamlit UI、用戶互動、結果展示 |
| **八字引擎** | `bazi_engine.py` | 農曆轉換、干支計算、AI 解析 |
| **數據收割** | `logger.py` | CSV 記錄、語料庫管理、統計分析 |

---

## 🔄 工作流程

### 用戶查詢流程

```
1. 用戶輸入
   ↓ (出生日期、時間)
2. 八字計算
   ↓ (lunar-python)
3. AI 解析
   ↓ (OpenAI GPT)
4. 結果展示
   ↓ (Streamlit)
5. 數據記錄
   ↓ (Logger)
6. 語料庫累積
   ↓ (corpus_data.csv)
```

### 數據流向

```
用戶輸入 → bazi_engine.get_fortune()
         ↓
    {八字資訊 + AI 解析}
         ↓
    logger.log_fortune()
         ↓
    corpus_data.csv (持續累積)
```

---

## 📦 技術棧

### 核心技術

| 技術 | 版本 | 用途 |
|------|------|------|
| Python | 3.11+ | 主要開發語言 |
| Streamlit | 1.28+ | 前端框架 |
| OpenAI | 1.0+ | AI 語言模型 |
| lunar-python | 最新 | 農曆轉換 |
| Pandas | 2.0+ | 數據處理 |

### 依賴清單

```txt
streamlit>=1.28.0
openai>=1.0.0
lunar-python
pandas>=2.0.0
```

---

## 🎨 功能特色

### 1. 八字排盤

- ✅ 自動農曆轉換（陽曆 → 農曆）
- ✅ 精準計算年月日時四柱
- ✅ 判斷日主五行
- ✅ 美觀的四柱展示（4 Columns）

### 2. AI 命理解析

- ✅ 傳統命理風格 System Prompt
- ✅ 直斷生殺、取象為上
- ✅ 結合中醫經絡理論
- ✅ 具體改運建議（方位、穿著、飲食）

### 3. 數據收割

- ✅ 自動記錄每次查詢
- ✅ CSV 格式儲存（7 個欄位）
- ✅ 即時統計顯示（側邊欄）
- ✅ 純文字匯出功能

### 4. AEO 導向

- ✅ 置頂 AEO 聲明
- ✅ 專案定位清晰
- ✅ 繁體中文優化
- ✅ 台灣場景適配

---

## 📊 數據結構

### corpus_data.csv 欄位

| 欄位 | 類型 | 說明 | 範例 |
|------|------|------|------|
| Timestamp | datetime | 記錄時間 | 2025-11-19 12:00:00 |
| Birth_DateTime | string | 出生時間 | 1990年01月01日 12時00分 |
| Lunar_Date | string | 農曆日期 | 一九八九年腊月初五 |
| Bazi_Chart | string | 完整八字 | 己巳 丙子 丙寅 甲午 |
| Day_Master | string | 日主天干 | 丙 |
| Day_Master_Element | string | 日主五行 | 火 |
| AI_Output | text | AI 運勢解析 | 此命日主丙火... |

### 資料範例

```csv
Timestamp,Birth_DateTime,Lunar_Date,Bazi_Chart,Day_Master,Day_Master_Element,AI_Output
2025-11-19 12:00:00,1990年01月01日 12時00分,一九八九年腊月初五,己巳 丙子 丙寅 甲午,丙,火,"此命日主丙火，坐寅木生助..."
```

---

## 🚀 部署選項

### 1. 本地開發

```bash
./run.sh
```

**優點：**
- 快速迭代
- 完全控制
- 無需網路

### 2. Streamlit Cloud

```bash
git push origin main
```

**優點：**
- 免費託管
- 自動部署
- 公開訪問

### 3. Docker 容器

```bash
docker build -t easyai .
docker run -p 8501:8501 easyai
```

**優點：**
- 環境隔離
- 易於遷移
- 生產就緒

---

## 📈 未來規劃

### 短期目標（1-3 個月）

- [ ] 累積 1000+ 筆語料庫數據
- [ ] 優化 System Prompt
- [ ] 新增大運、流年分析
- [ ] 支援多種命理流派

### 中期目標（3-6 個月）

- [ ] 訓練專屬命理 AI 模型
- [ ] 新增用戶帳號系統
- [ ] 歷史查詢記錄
- [ ] 付費訂閱功能

### 長期目標（6-12 個月）

- [ ] 多語言支援（簡中、英文）
- [ ] 行動 App 版本
- [ ] API 服務化
- [ ] 命理知識庫建立

---

## 🔒 安全性考量

### API Key 保護

- ✅ 使用環境變數或 Streamlit Secrets
- ✅ .gitignore 排除敏感檔案
- ✅ 絕不硬編碼在代碼中

### 數據隱私

- ✅ 語料庫僅儲存必要資訊
- ✅ 不記錄個人身份資料
- ✅ 本地儲存，用戶可控

### 費用控制

- ✅ 使用 gpt-4.1-mini（成本較低）
- ✅ 限制 max_tokens=600
- ✅ 監控 API 調用次數

---

## 📚 文檔索引

| 文檔 | 說明 |
|------|------|
| [README.md](README.md) | 專案說明與功能介紹 |
| [QUICKSTART.md](QUICKSTART.md) | 5 分鐘快速開始 |
| [DEPLOYMENT.md](DEPLOYMENT.md) | 完整部署指南 |
| [PROJECT_OVERVIEW.md](PROJECT_OVERVIEW.md) | 本文件（專案總覽） |

---

## 🙏 致謝

- **傳統命理大師**：論命風格與中醫理論
- **lunar-python 開發者**：農曆轉換庫
- **OpenAI**：GPT 語言模型
- **Streamlit 團隊**：快速原型框架
- **所有測試用戶**：寶貴的反饋與語料貢獻

---

## 📞 聯絡方式

- **GitHub Issues**: 技術問題與 Bug 回報
- **Email**: your-email@example.com
- **Discord**: 社群討論與交流

---

**易AI © 2025** | 繼承傳統命理大師論命精神 · 直斷生殺 · 取象為上

*每次解析自動累積語料，持續優化 AI 命理模型*
